var Z,p,Ce,z,ge,Se,X={},Te=[],Qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(e,r){for(var t in r)e[t]=r[t];return e}function Pe(e){var r=e.parentNode;r&&r.removeChild(e)}function Ye(e,r,t){var n,i,s,a={};for(s in r)s=="key"?n=r[s]:s=="ref"?i=r[s]:a[s]=r[s];if(arguments.length>2&&(a.children=arguments.length>3?Z.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)a[s]===void 0&&(a[s]=e.defaultProps[s]);return J(e,a,n,i,null)}function J(e,r,t,n,i){var s={type:e,props:r,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Ce};return i==null&&p.vnode!=null&&p.vnode(s),s}function Sr(){return{current:null}}function ne(e){return e.children}function K(e,r){this.props=e,this.context=r}function G(e,r){if(r==null)return e.__?G(e.__,e.__.__k.indexOf(e)+1):null;for(var t;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?G(e):null}function $e(e){var r,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return $e(e)}}function ie(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!ee.__r++||ge!==p.debounceRendering)&&((ge=p.debounceRendering)||setTimeout)(ee)}function ee(){for(var e;ee.__r=z.length;)e=z.sort(function(r,t){return r.__v.__b-t.__v.__b}),z=[],e.some(function(r){var t,n,i,s,a,l;r.__d&&(a=(s=(t=r).__v).__e,(l=t.__P)&&(n=[],(i=I({},s)).__v=s.__v+1,ce(l,s,i,t.__n,l.ownerSVGElement!==void 0,s.__h!=null?[a]:null,n,a??G(s),s.__h),Oe(n,s),s.__e!=a&&$e(s)))})}function Ne(e,r,t,n,i,s,a,l,g,f){var o,A,d,c,u,k,h,w=n&&n.__k||Te,C=w.length;for(t.__k=[],o=0;o<r.length;o++)if((c=t.__k[o]=(c=r[o])==null||typeof c=="boolean"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?J(null,c,null,null,c):Array.isArray(c)?J(ne,{children:c},null,null,null):c.__b>0?J(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=t,c.__b=t.__b+1,(d=w[o])===null||d&&c.key==d.key&&c.type===d.type)w[o]=void 0;else for(A=0;A<C;A++){if((d=w[A])&&c.key==d.key&&c.type===d.type){w[A]=void 0;break}d=null}ce(e,c,d=d||X,i,s,a,l,g,f),u=c.__e,(A=c.ref)&&d.ref!=A&&(h||(h=[]),d.ref&&h.push(d.ref,null,c),h.push(A,c.__c||u,c)),u!=null?(k==null&&(k=u),typeof c.type=="function"&&c.__k===d.__k?c.__d=g=Me(c,g,e):g=Ie(e,c,d,w,u,g),typeof t.type=="function"&&(t.__d=g)):g&&d.__e==g&&g.parentNode!=e&&(g=G(d))}for(t.__e=k,o=C;o--;)w[o]!=null&&je(w[o],w[o]);if(h)for(o=0;o<h.length;o++)De(h[o],h[++o],h[++o])}function Me(e,r,t){for(var n,i=e.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=e,r=typeof n.type=="function"?Me(n,r,t):Ie(t,n,n,i,n.__e,r));return r}function Xe(e,r){return r=r||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(t){Xe(t,r)}):r.push(e)),r}function Ie(e,r,t,n,i,s){var a,l,g;if(r.__d!==void 0)a=r.__d,r.__d=void 0;else if(t==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==e)e.appendChild(i),a=null;else{for(l=s,g=0;(l=l.nextSibling)&&g<n.length;g+=1)if(l==i)break e;e.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function er(e,r,t,n,i){var s;for(s in t)s==="children"||s==="key"||s in r||re(e,s,null,t[s],n);for(s in r)i&&typeof r[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===r[s]||re(e,s,r[s],t[s],n)}function ue(e,r,t){r[0]==="-"?e.setProperty(r,t):e[r]=t==null?"":typeof t!="number"||Qe.test(r)?t:t+"px"}function re(e,r,t,n,i){var s;e:if(r==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(r in n)t&&r in t||ue(e.style,r,"");if(t)for(r in t)n&&t[r]===n[r]||ue(e.style,r,t[r])}else if(r[0]==="o"&&r[1]==="n")s=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in e?r.toLowerCase().slice(2):r.slice(2),e.l||(e.l={}),e.l[r+s]=t,t?n||e.addEventListener(r,s?fe:me,s):e.removeEventListener(r,s?fe:me,s);else if(r!=="dangerouslySetInnerHTML"){if(i)r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in e)try{e[r]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&r.indexOf("-")==-1?e.removeAttribute(r):e.setAttribute(r,t))}}function me(e){this.l[e.type+!1](p.event?p.event(e):e)}function fe(e){this.l[e.type+!0](p.event?p.event(e):e)}function ce(e,r,t,n,i,s,a,l,g){var f,o,A,d,c,u,k,h,w,C,N,D,W,F,O,_=r.type;if(r.constructor!==void 0)return null;t.__h!=null&&(g=t.__h,l=r.__e=t.__e,r.__h=null,s=[l]),(f=p.__b)&&f(r);try{e:if(typeof _=="function"){if(h=r.props,w=(f=_.contextType)&&n[f.__c],C=f?w?w.props.value:f.__:n,t.__c?k=(o=r.__c=t.__c).__=o.__E:("prototype"in _&&_.prototype.render?r.__c=o=new _(h,C):(r.__c=o=new K(h,C),o.constructor=_,o.render=tr),w&&w.sub(o),o.props=h,o.state||(o.state={}),o.context=C,o.__n=n,A=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),_.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=I({},o.__s)),I(o.__s,_.getDerivedStateFromProps(h,o.__s))),d=o.props,c=o.state,A)_.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(_.getDerivedStateFromProps==null&&h!==d&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(h,C),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(h,o.__s,C)===!1||r.__v===t.__v){for(o.props=h,o.state=o.__s,r.__v!==t.__v&&(o.__d=!1),o.__v=r,r.__e=t.__e,r.__k=t.__k,r.__k.forEach(function(m){m&&(m.__=r)}),N=0;N<o._sb.length;N++)o.__h.push(o._sb[N]);o._sb=[],o.__h.length&&a.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(h,o.__s,C),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(d,c,u)})}if(o.context=C,o.props=h,o.__v=r,o.__P=e,D=p.__r,W=0,"prototype"in _&&_.prototype.render){for(o.state=o.__s,o.__d=!1,D&&D(r),f=o.render(o.props,o.state,o.context),F=0;F<o._sb.length;F++)o.__h.push(o._sb[F]);o._sb=[]}else do o.__d=!1,D&&D(r),f=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++W<25);o.state=o.__s,o.getChildContext!=null&&(n=I(I({},n),o.getChildContext())),A||o.getSnapshotBeforeUpdate==null||(u=o.getSnapshotBeforeUpdate(d,c)),O=f!=null&&f.type===ne&&f.key==null?f.props.children:f,Ne(e,Array.isArray(O)?O:[O],r,t,n,i,s,a,l,g),o.base=r.__e,r.__h=null,o.__h.length&&a.push(o),k&&(o.__E=o.__=null),o.__e=!1}else s==null&&r.__v===t.__v?(r.__k=t.__k,r.__e=t.__e):r.__e=rr(t.__e,r,t,n,i,s,a,g);(f=p.diffed)&&f(r)}catch(m){r.__v=null,(g||s!=null)&&(r.__e=l,r.__h=!!g,s[s.indexOf(l)]=null),p.__e(m,r,t)}}function Oe(e,r){p.__c&&p.__c(r,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(n){n.call(t)})}catch(n){p.__e(n,t.__v)}})}function rr(e,r,t,n,i,s,a,l){var g,f,o,A=t.props,d=r.props,c=r.type,u=0;if(c==="svg"&&(i=!0),s!=null){for(;u<s.length;u++)if((g=s[u])&&"setAttribute"in g==!!c&&(c?g.localName===c:g.nodeType===3)){e=g,s[u]=null;break}}if(e==null){if(c===null)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,d.is&&d),s=null,l=!1}if(c===null)A===d||l&&e.data===d||(e.data=d);else{if(s=s&&Z.call(e.childNodes),f=(A=t.props||X).dangerouslySetInnerHTML,o=d.dangerouslySetInnerHTML,!l){if(s!=null)for(A={},u=0;u<e.attributes.length;u++)A[e.attributes[u].name]=e.attributes[u].value;(o||f)&&(o&&(f&&o.__html==f.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(er(e,d,A,i,l),o)r.__k=[];else if(u=r.props.children,Ne(e,Array.isArray(u)?u:[u],r,t,n,i&&c!=="foreignObject",s,a,s?s[0]:t.__k&&G(t,0),l),s!=null)for(u=s.length;u--;)s[u]!=null&&Pe(s[u]);l||("value"in d&&(u=d.value)!==void 0&&(u!==e.value||c==="progress"&&!u||c==="option"&&u!==A.value)&&re(e,"value",u,A.value,!1),"checked"in d&&(u=d.checked)!==void 0&&u!==e.checked&&re(e,"checked",u,A.checked,!1))}return e}function De(e,r,t){try{typeof e=="function"?e(r):e.current=r}catch(n){p.__e(n,t)}}function je(e,r,t){var n,i;if(p.unmount&&p.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||De(n,null,r)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){p.__e(s,r)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&je(n[i],r,t||typeof e.type!="function");t||e.__e==null||Pe(e.__e),e.__=e.__e=e.__d=void 0}function tr(e,r,t){return this.constructor(e,t)}function nr(e,r,t){var n,i,s;p.__&&p.__(e,r),i=(n=typeof t=="function")?null:t&&t.__k||r.__k,s=[],ce(r,e=(!n&&t||r).__k=Ye(ne,null,[e]),i||X,X,r.ownerSVGElement!==void 0,!n&&t?[t]:i?null:r.firstChild?Z.call(r.childNodes):null,s,!n&&t?t:i?i.__e:r.firstChild,n),Oe(s,e)}function sr(e,r){nr(e,r,sr)}function Tr(e,r,t){var n,i,s,a=I({},e.props);for(s in r)s=="key"?n=r[s]:s=="ref"?i=r[s]:a[s]=r[s];return arguments.length>2&&(a.children=arguments.length>3?Z.call(arguments,2):t),J(e.type,a,n||e.key,i||e.ref,null)}function or(e,r){var t={__c:r="__cC"+Se++,__:e,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[r]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(ie)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}Z=Te.slice,p={__e:function(e,r,t,n){for(var i,s,a;r=r.__;)if((i=r.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(l){e=l}throw e}},Ce=0,K.prototype.setState=function(e,r){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof e=="function"&&(e=e(I({},t),this.props)),e&&I(t,e),e!=null&&this.__v&&(r&&this._sb.push(r),ie(this))},K.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ie(this))},K.prototype.render=ne,z=[],ee.__r=0,Se=0;var j,b,oe,de,U=0,Fe=[],Q=[],pe=p.__b,Ae=p.__r,he=p.diffed,ye=p.__c,xe=p.unmount;function B(e,r){p.__h&&p.__h(b,e,U||r),U=0;var t=b.__H||(b.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:Q}),t.__[e]}function ir(e){return U=1,ar(He,e)}function ar(e,r,t){var n=B(j++,2);if(n.t=e,!n.__c&&(n.__=[t?t(r):He(void 0,r),function(s){var a=n.__N?n.__N[0]:n.__[0],l=n.t(a,s);a!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=b,!b.u)){b.u=!0;var i=b.shouldComponentUpdate;b.shouldComponentUpdate=function(s,a,l){if(!n.__c.__H)return!0;var g=n.__c.__H.__.filter(function(o){return o.__c});if(g.every(function(o){return!o.__N}))return!i||i.call(this,s,a,l);var f=!1;return g.forEach(function(o){if(o.__N){var A=o.__[0];o.__=o.__N,o.__N=void 0,A!==o.__[0]&&(f=!0)}}),!(!f&&n.__c.props===s)&&(!i||i.call(this,s,a,l))}}return n.__N||n.__}function lr(e,r){var t=B(j++,3);!p.__s&&_e(t.__H,r)&&(t.__=e,t.i=r,b.__H.__h.push(t))}function cr(e,r){var t=B(j++,4);!p.__s&&_e(t.__H,r)&&(t.__=e,t.i=r,b.__h.push(t))}function _r(e){return U=5,Re(function(){return{current:e}},[])}function Pr(e,r,t){U=6,cr(function(){return typeof e=="function"?(e(r()),function(){return e(null)}):e?(e.current=r(),function(){return e.current=null}):void 0},t==null?t:t.concat(e))}function Re(e,r){var t=B(j++,7);return _e(t.__H,r)?(t.__V=e(),t.i=r,t.__h=e,t.__V):t.__}function gr(e,r){return U=8,Re(function(){return e},r)}function $r(e){var r=b.context[e.__c],t=B(j++,9);return t.c=e,r?(t.__==null&&(t.__=!0,r.sub(b)),r.props.value):e.__}function Nr(e,r){p.useDebugValue&&p.useDebugValue(r?r(e):e)}function Mr(){var e=B(j++,11);if(!e.__){for(var r=b.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;var t=r.__m||(r.__m=[0,0]);e.__="P"+t[0]+"-"+t[1]++}return e.__}function ur(){for(var e;e=Fe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Y),e.__H.__h.forEach(ae),e.__H.__h=[]}catch(r){e.__H.__h=[],p.__e(r,e.__v)}}p.__b=function(e){b=null,pe&&pe(e)},p.__r=function(e){Ae&&Ae(e),j=0;var r=(b=e.__c).__H;r&&(oe===b?(r.__h=[],b.__h=[],r.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Q,t.__N=t.i=void 0})):(r.__h.forEach(Y),r.__h.forEach(ae),r.__h=[])),oe=b},p.diffed=function(e){he&&he(e);var r=e.__c;r&&r.__H&&(r.__H.__h.length&&(Fe.push(r)!==1&&de===p.requestAnimationFrame||((de=p.requestAnimationFrame)||mr)(ur)),r.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Q&&(t.__=t.__V),t.i=void 0,t.__V=Q})),oe=b=null},p.__c=function(e,r){r.some(function(t){try{t.__h.forEach(Y),t.__h=t.__h.filter(function(n){return!n.__||ae(n)})}catch(n){r.some(function(i){i.__h&&(i.__h=[])}),r=[],p.__e(n,t.__v)}}),ye&&ye(e,r)},p.unmount=function(e){xe&&xe(e);var r,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Y(n)}catch(i){r=i}}),t.__H=void 0,r&&p.__e(r,t.__v))};var ve=typeof requestAnimationFrame=="function";function mr(e){var r,t=function(){clearTimeout(n),ve&&cancelAnimationFrame(r),setTimeout(e)},n=setTimeout(t,100);ve&&(r=requestAnimationFrame(t))}function Y(e){var r=b,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),b=r}function ae(e){var r=b;e.__c=e.__(),b=r}function _e(e,r){return!e||e.length!==r.length||r.some(function(t,n){return t!==e[n]})}function He(e,r){return typeof r=="function"?r(e):r}async function Ir(){const e=await chrome.tabs.query({active:!0,currentWindow:!0}).then(r=>r[0]);if(!e)throw new Error("Unable to get active tab");if(!e.id||!e.url)throw new Error("Unable to get required tab metadata");if(e.url.includes("chrome://"))throw new Error("html.to.design cannot capture chrome:// pages");if(e.url.startsWith("file://")&&!await chrome.extension.isAllowedFileSchemeAccess())throw new Error("Allow access to file URLs authorization is necessary for local files, please enable it in extension settings");return{tabId:e.id,url:e.url}}var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L={exports:{}};const dr=e=>typeof crypto<"u"&&typeof crypto.getRandomValues=="function"?()=>{const r=crypto.getRandomValues(new Uint8Array(1))[0];return(r>=e?r%e:r).toString(e)}:()=>Math.floor(Math.random()*e).toString(e),Ue=(e=7,r=!1)=>Array.from({length:e},dr(r?16:36)).join("");L.exports=Ue;L.exports.default=Ue;var Or=()=>`uid::${L.exports(7)}`,Le=(e,r=["endpointName","fingerprint"])=>typeof e=="object"&&e!==null&&r.every(t=>t in e),Dr=e=>{if(!Le(e))throw new TypeError("Invalid connection args");return JSON.stringify(e)},jr=e=>{try{const r=JSON.parse(e);return Le(r)?r:null}catch{return null}},Fr=()=>{let e=[];return{add:(...r)=>{e=[...e,...r]},remove:r=>{e=typeof r=="string"?e.filter(t=>t.message.transactionId!==r):e.filter(t=>!r.includes(t))},entries:()=>e}},Rr=class{static toBackground(e,r){return e.postMessage(r)}static toExtensionContext(e,r){return e.postMessage(r)}},Be={exports:{}};(function(e,r){(function(t,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:fr,function(t){if(typeof globalThis!="object"||typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const n="The message port closed before a response was received.",i="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=a=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class g extends WeakMap{constructor(m,x=void 0){super(x),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const f=_=>_&&typeof _=="object"&&typeof _.then=="function",o=(_,m)=>(...x)=>{a.runtime.lastError?_.reject(new Error(a.runtime.lastError.message)):m.singleCallbackArg||x.length<=1&&m.singleCallbackArg!==!1?_.resolve(x[0]):_.resolve(x)},A=_=>_==1?"argument":"arguments",d=(_,m)=>function(v,...S){if(S.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${A(m.minArgs)} for ${_}(), got ${S.length}`);if(S.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${A(m.maxArgs)} for ${_}(), got ${S.length}`);return new Promise((T,P)=>{if(m.fallbackToNoCallback)try{v[_](...S,o({resolve:T,reject:P},m))}catch(y){console.warn(`${_} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),v[_](...S),m.fallbackToNoCallback=!1,m.noCallback=!0,T()}else m.noCallback?(v[_](...S),T()):v[_](...S,o({resolve:T,reject:P},m))})},c=(_,m,x)=>new Proxy(m,{apply(v,S,T){return x.call(S,_,...T)}});let u=Function.call.bind(Object.prototype.hasOwnProperty);const k=(_,m={},x={})=>{let v=Object.create(null),S={has(P,y){return y in _||y in v},get(P,y,$){if(y in v)return v[y];if(!(y in _))return;let E=_[y];if(typeof E=="function")if(typeof m[y]=="function")E=c(_,_[y],m[y]);else if(u(x,y)){let R=d(y,x[y]);E=c(_,_[y],R)}else E=E.bind(_);else if(typeof E=="object"&&E!==null&&(u(m,y)||u(x,y)))E=k(E,m[y],x[y]);else if(u(x,"*"))E=k(E,m[y],x["*"]);else return Object.defineProperty(v,y,{configurable:!0,enumerable:!0,get(){return _[y]},set(R){_[y]=R}}),E;return v[y]=E,E},set(P,y,$,E){return y in v?v[y]=$:_[y]=$,!0},defineProperty(P,y,$){return Reflect.defineProperty(v,y,$)},deleteProperty(P,y){return Reflect.deleteProperty(v,y)}},T=Object.create(_);return new Proxy(T,S)},h=_=>({addListener(m,x,...v){m.addListener(_.get(x),...v)},hasListener(m,x){return m.hasListener(_.get(x))},removeListener(m,x){m.removeListener(_.get(x))}}),w=new g(_=>typeof _!="function"?_:function(x){const v=k(x,{},{getContent:{minArgs:0,maxArgs:0}});_(v)});let C=!1;const N=new g(_=>typeof _!="function"?_:function(x,v,S){let T=!1,P,y=new Promise(V=>{P=function(M){C||(console.warn(i,new Error().stack),C=!0),T=!0,V(M)}}),$;try{$=_(x,v,P)}catch(V){$=Promise.reject(V)}const E=$!==!0&&f($);if($!==!0&&!E&&!T)return!1;const R=V=>{V.then(M=>{S(M)},M=>{let se;M&&(M instanceof Error||typeof M.message=="string")?se=M.message:se="An unexpected error occurred",S({__mozWebExtensionPolyfillReject__:!0,message:se})}).catch(M=>{console.error("Failed to send onMessage rejected reply",M)})};return R(E?$:y),!0}),D=({reject:_,resolve:m},x)=>{a.runtime.lastError?a.runtime.lastError.message===n?m():_(new Error(a.runtime.lastError.message)):x&&x.__mozWebExtensionPolyfillReject__?_(new Error(x.message)):m(x)},W=(_,m,x,...v)=>{if(v.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${A(m.minArgs)} for ${_}(), got ${v.length}`);if(v.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${A(m.maxArgs)} for ${_}(), got ${v.length}`);return new Promise((S,T)=>{const P=D.bind(null,{resolve:S,reject:T});v.push(P),x.sendMessage(...v)})},F={devtools:{network:{onRequestFinished:h(w)}},runtime:{onMessage:h(N),onMessageExternal:h(N),sendMessage:W.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:W.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},O={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":O},services:{"*":O},websites:{"*":O}},k(a,F,l)};t.exports=s(chrome)}else t.exports=globalThis.browser})})(Be);const Hr=Be.exports;var pr=Object.defineProperty,Ar=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable,we=(e,r,t)=>r in e?pr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,We=(e,r)=>{for(var t in r||(r={}))yr.call(r,t)&&we(e,t,r[t]);if(be)for(var t of be(r))xr.call(r,t)&&we(e,t,r[t]);return e},Ve=(e,r)=>Ar(e,hr(r)),vr=/^((?:background$)|devtools|popup|options|content-script|window)(?:@(\d+)(?:\.(\d+))?)?$/,qe=e=>{const[,r,t,n]=e.match(vr)||[];return{context:r,tabId:+t,frameId:n?+n:void 0}},Ur=({context:e,tabId:r,frameId:t})=>["background","popup","options"].includes(e)?e:`${e}@${r}${t?`.${t}`:""}`;const br=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],le=Symbol(".toJSON was called"),wr=e=>{e[le]=!0;const r=e.toJSON();return delete e[le],r},ze=({from:e,seen:r,to_:t,forceEnumerable:n,maxDepth:i,depth:s})=>{const a=t||(Array.isArray(e)?[]:{});if(r.push(e),s>=i)return a;if(typeof e.toJSON=="function"&&e[le]!==!0)return wr(e);for(const[l,g]of Object.entries(e)){if(typeof Buffer=="function"&&Buffer.isBuffer(g)){a[l]="[object Buffer]";continue}if(g!==null&&typeof g=="object"&&typeof g.pipe=="function"){a[l]="[object Stream]";continue}if(typeof g!="function"){if(!g||typeof g!="object"){a[l]=g;continue}if(!r.includes(e[l])){s++,a[l]=ze({from:e[l],seen:[...r],forceEnumerable:n,maxDepth:i,depth:s});continue}a[l]="[Circular]"}}for(const{property:l,enumerable:g}of br)typeof e[l]=="string"&&Object.defineProperty(a,l,{value:e[l],enumerable:n?!0:g,configurable:!0,writable:!0});return a};function kr(e,r={}){const{maxDepth:t=Number.POSITIVE_INFINITY}=r;return typeof e=="object"&&e!==null?ze({from:e,seen:[],forceEnumerable:!0,maxDepth:t,depth:0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}let Je=()=>({events:{},emit(e,...r){(this.events[e]||[]).forEach(t=>t(...r))},on(e,r){return(this.events[e]=this.events[e]||[]).push(r),()=>this.events[e]=(this.events[e]||[]).filter(t=>t!==r)}});var Lr=(e,r,t)=>{const n=L.exports(),i=new Map,s=new Map,a=l=>{if(l.destination.context===e&&!l.destination.frameId&&!l.destination.tabId){t?.(l);const{transactionId:g,messageID:f,messageType:o}=l,A=()=>{const c=i.get(g);if(c){const{err:u,data:k}=l;if(u){const h=u,w=self[h.name],C=new(typeof w=="function"?w:Error)(h.message);for(const N in h)C[N]=h[N];c.reject(C)}else c.resolve(k);i.delete(g)}},d=async()=>{let c,u,k=!1;try{const h=s.get(f);if(typeof h=="function")c=await h({sender:l.origin,id:f,data:l.data,timestamp:l.timestamp});else throw k=!0,new Error(`[webext-bridge] No handler registered in '${e}' to accept messages with id '${f}'`)}catch(h){u=h}finally{if(u&&(l.err=kr(u)),a(Ve(We({},l),{messageType:"reply",data:c,origin:{context:e,tabId:null},destination:l.origin,hops:[]})),u&&!k)throw c}};switch(o){case"reply":return A();case"message":return d()}}return l.hops.push(`${e}::${n}`),r(l)};return{handleMessage:a,endTransaction:l=>{const g=i.get(l);g?.reject("Transaction was ended before it could complete"),i.delete(l)},sendMessage:(l,g,f="background")=>{const o=typeof f=="string"?qe(f):f,A="Bridge#sendMessage ->";if(!o.context)throw new TypeError(`${A} Destination must be any one of known destinations`);return new Promise((d,c)=>{const u={messageID:l,data:g,destination:o,messageType:"message",transactionId:L.exports(),origin:{context:e,tabId:null},hops:[],timestamp:Date.now()};i.set(u.transactionId,{resolve:d,reject:c});try{a(u)}catch(k){i.delete(u.transactionId),c(k)}})},onMessage:(l,g)=>(s.set(l,g),()=>s.delete(l))}},H=class{constructor(e,r){this.endpointRuntime=e,this.streamInfo=r,this.emitter=Je(),this.isClosed=!1,this.handleStreamClose=()=>{this.isClosed||(this.isClosed=!0,this.emitter.emit("closed",!0),this.emitter.events={})},H.initDone||(e.onMessage("__crx_bridge_stream_transfer__",t=>{const{streamId:n,streamTransfer:i,action:s}=t.data,a=H.openStreams.get(n);a&&!a.isClosed&&(s==="transfer"&&a.emitter.emit("message",i),s==="close"&&(H.openStreams.delete(n),a.handleStreamClose()))}),H.initDone=!0),H.openStreams.set(this.streamInfo.streamId,this)}get info(){return this.streamInfo}send(e){if(this.isClosed)throw new Error("Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status");this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:e,action:"transfer"},this.streamInfo.endpoint)}close(e){e&&this.send(e),this.handleStreamClose(),this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:null,action:"close"},this.streamInfo.endpoint)}onMessage(e){return this.getDisposable("message",e)}onClose(e){return this.getDisposable("closed",e)}getDisposable(e,r){const t=this.emitter.on(e,r);return Object.assign(t,{dispose:t,close:t})}},te=H;te.initDone=!1;te.openStreams=new Map;var Br=e=>{const r=new Map,t=new Map,n=Je();e.onMessage("__crx_bridge_stream_open__",a=>new Promise(l=>{const{sender:g,data:f}=a,{channel:o}=f;let A=!1,d=()=>{};const c=()=>{const u=t.get(o);typeof u=="function"?(u(new te(e,Ve(We({},f),{endpoint:g}))),A&&d(),l(!0)):A||(A=!0,d=n.on("did-change-stream-callbacks",c))};c()}));async function i(a,l){if(r.has(a))throw new Error("webext-bridge: A Stream is already open at this channel");const g=typeof l=="string"?qe(l):l,f={streamId:L.exports(),channel:a,endpoint:g},o=new te(e,f);return o.onClose(()=>r.delete(a)),await e.sendMessage("__crx_bridge_stream_open__",f,g),r.set(a,o),o}function s(a,l){if(t.has(a))throw new Error("webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication");t.set(a,l),n.emit("did-change-stream-callbacks")}return{openStream:i,onOpenStreamChannel:s}};const Ge=e=>{if(e.stack){let r=e.stack;if(e.cause){const t=Ge(e.cause);r+=`
Caused by ${t}`}return r}return""},Wr=(e,...r)=>{const t=r[1];return r[1]=async function(...n){try{return await t(...n)}catch(i){return{__error:{message:i.message,stack:Ge(i)}}}},e(...r)},Vr=async(e,...r)=>{const t=await e(...r);if(t?.__error){console.error(`sendMessage ${r[0]} error`,t.__error);const n=new Error(t.__error.message);throw n.stack+=`
`+t.__error.stack,n}return t};function Er(e,r){return r.find(t=>t.id===e)||void 0}const Ze=[{id:"desktop",name:"Desktop",width:1920,type:"preset"},{id:"laptop",name:"Laptop",width:1440,type:"preset"},{id:"tablet",name:"Tablet",width:1024,type:"preset"},{id:"phablet",name:"Phablet",width:768,type:"preset"},{id:"phone",name:"Phone",width:390,type:"preset"}];function qr(e){const r=[...e,...Ze],t=n=>r.find(i=>i.id===n)?.width??0;return(n,i)=>t(i)-t(n)}const Ke={id:"default",name:"Browser width",type:"preset",width:-1},ke=[Ke,...Ze],zr=e=>{const r=[],{multiImport:t}=e;for(const n of t.modes)for(const i of t.deviceIds){const s=Er(i,e.devices);if(s){const a={theme:n};s.width>=0&&(a.width=s.width),r.push(a)}}return r};let q={devices:ke,multiImport:{deviceIds:[ke[0].id],modes:["default"]}};function Jr(e){const[r,t]=ir(q),n=_r(),i=gr(s=>{s.devices=s.devices.map(a=>a.id===Ke.id?{...a,name:n.current?`Browser (${n.current}px)`:"Browser"}:a),t(q=s)},[]);return lr(()=>{chrome.storage.local.get(["settings"]).then(async s=>{const a={...q,...s.settings};n.current=await e.current,i(a)})},[i,e]),or([r,s=>{i({...q,...s}),chrome.storage.local.set({settings:q}).catch(a=>console.error(`Failed to save user settings: ${a}`))}])}async function Gr(e){const r=await chrome.storage.local.get(["settings"]);e(r.settings)}function Zr(e,r,t){return new Promise(async(n,i)=>{const s=[];let a=0,l=0;async function g(){const f=a++;if(f<e.length){l++;try{s[f]=await t(e[f])}catch(o){i(o)}finally{l--,a<e.length?g():l===0&&n(s)}}}if(!e.length)return n([]);for(let f=0;f<r&&f<e.length;f++)g()})}function Cr(e,r){return new Promise((t,n)=>setTimeout(()=>{r&&"errorOnTimeout"in r?n(new Error(r.errorOnTimeout)):t(r?.value)},e))}const Ee=new Object;async function Kr(e,r){const t=await Promise.race([Cr(r,{value:Ee}),e]);if(t!==Ee)return t}function Qr(){let e,r;return{promise:new Promise((n,i)=>{e=n,r=i}),resolve:e,error:r}}const Yr=e=>typeof e?.then=="function";export{Pr as A,or as B,Jr as C,Cr as D,zr as E,Re as F,Gr as G,jr as H,Ur as I,qe as J,We as K,Ve as L,Yr as M,Ge as N,Zr as O,Rr as P,Kr as Q,Ke as R,sr as S,gr as T,Mr as V,_r as _,Fr as a,Hr as b,Or as c,Lr as d,Dr as e,Br as f,K as g,Ye as h,nr as i,ir as j,lr as k,p as l,cr as m,Nr as n,Wr as o,ne as p,$r as q,Sr as r,Vr as s,Tr as t,Ze as u,qr as v,Qr as w,Xe as x,ar as y,Ir as z};
